(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{9528:function(e,n,o){"use strict";(function(e,t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=a(o("2f4b"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,t)}return o}function r(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?i(Object(o),!0).forEach((function(n){l(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}function l(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var u={data:function(){return{user:{name:"米粒"},form:{today:null,startSleepTime:"2021-01-21 1:32:00",endSleepTime:"2021-01-21 10:32:00",smallSleep:[]},sleepHours:null,rules:{},list:[]}},computed:{},methods:{sleepHoursChange:function(e){var n=(0,c.default)(this.form.endSleepTime)-(0,c.default)(this.form.startSleepTime),o=this.secondToDate(n/1e3);this.sleepHours=o},secondToDate:function(e){var n=Math.floor(e/3600),o=Math.floor(e/60%60),t=Math.floor(e%60);return n>0?n+"小时"+o+"分钟"+t+"秒":o>0?o+"分钟"+t+"秒":t+"秒"},change:function(e){console.log(e)},add:function(){e.showLoading({title:"处理中..."}),t.callFunction({name:"add",data:{name:"DCloud",subType:"uniCloud",createTime:Date.now()}}).then((function(n){e.hideLoading(),e.showModal({content:"成功添加一条数据，文档id为：".concat(n.result.id),showCancel:!1}),console.log(n)})).catch((function(n){e.hideLoading(),e.showModal({content:"添加数据失败，错误信息为：".concat(n.message),showCancel:!1}),console.error(n)}))},remove:function(){e.showLoading({title:"处理中..."}),t.callFunction({name:"remove"}).then((function(n){e.hideLoading(),e.showModal({content:n.result.msg,showCancel:!1}),console.log(n)})).catch((function(n){e.hideLoading(),e.showModal({content:"删除失败，错误信息为：".concat(n.message),showCancel:!1}),console.error(n)}))},update:function(){e.showLoading({title:"处理中..."}),t.callFunction({name:"update",data:{name:"DCloud",subType:"html 5+",createTime:Date.now()}}).then((function(n){e.hideLoading(),e.showModal({content:n.result.msg,showCancel:!1}),console.log(n)})).catch((function(n){e.hideLoading(),e.showModal({content:"更新操作执行失败，错误信息为：".concat(n.message),showCancel:!1}),console.error(n)}))},get:function(){var n=this;e.showLoading({title:"处理中..."}),t.callFunction({name:"get"}).then((function(o){e.hideLoading(),e.showModal({content:"查询成功，获取数据列表为：".concat(JSON.stringify(o.result.data)),showCancel:!1}),n.list=o.result.data,console.log(o)})).catch((function(n){e.hideLoading(),e.showModal({content:"查询失败，错误信息为：".concat(n.message),showCancel:!1}),console.error(n)}))},useCommon:function(){console.log("请确保自己已经阅读并按照公用模块文档操作 https://uniapp.dcloud.io/uniCloud/cf-common"),t.callFunction({name:"use-common"}).then((function(n){e.hideLoading(),e.showModal({content:"云函数use-common返回结果："+JSON.stringify(n.result),showCancel:!1}),console.log(n)})).catch((function(n){e.hideLoading(),e.showModal({content:"云函数use-common执行失败，错误信息为：".concat(n.message),showCancel:!1}),console.error(n)}))},upload:function(){new Promise((function(n,o){e.chooseImage({count:1,success:function(t){var c=t.tempFilePaths[0];e.getImageInfo({src:c,success:function(e){var o={filePath:c,cloudPath:Date.now()+"."+e.type.toLowerCase()};n(o)},fail:function(e){o(new Error(e.errMsg||"未能获取图片类型"))}})},fail:function(){o(new Error("Fail_Cancel"))}})})).then((function(n){return e.showLoading({title:"文件上传中..."}),t.uploadFile(r(r({},n),{},{onUploadProgress:function(e){console.log(e)}}))})).then((function(n){e.hideLoading(),console.log(n),e.showModal({content:"图片上传成功，fileId为："+n.fileID,showCancel:!1})})).catch((function(n){e.hideLoading(),console.log(n),"Fail_Cancel"!==n.message&&e.showModal({content:"图片上传失败，错误信息为：".concat(n.message),showCancel:!1})}))}}};n.default=u}).call(this,o("543d")["default"],o("a9ff")["default"])},a41f:function(e,n,o){"use strict";o.d(n,"b",(function(){return c})),o.d(n,"c",(function(){return a})),o.d(n,"a",(function(){return t}));var t={uniForms:function(){return Promise.all([o.e("common/vendor"),o.e("components/uni-forms/uni-forms")]).then(o.bind(null,"b2a3"))},uniFormsItem:function(){return o.e("components/uni-forms-item/uni-forms-item").then(o.bind(null,"147d"))},uniDatetimePicker:function(){return o.e("components/uni-datetime-picker/uni-datetime-picker").then(o.bind(null,"2e66"))}},c=function(){var e=this,n=e.$createElement;e._self._c},a=[]},a808:function(e,n,o){"use strict";o.r(n);var t=o("9528"),c=o.n(t);for(var a in t)"default"!==a&&function(e){o.d(n,e,(function(){return t[e]}))}(a);n["default"]=c.a},d3b7:function(e,n,o){"use strict";o.r(n);var t=o("a41f"),c=o("a808");for(var a in c)"default"!==a&&function(e){o.d(n,e,(function(){return c[e]}))}(a);var i,r=o("f0c5"),l=Object(r["a"])(c["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],i);n["default"]=l.exports},d992:function(e,n,o){"use strict";(function(e){o("1bfd");t(o("66fd"));var n=t(o("d3b7"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o("543d")["createPage"])}},[["d992","common/runtime","common/vendor"]]]);